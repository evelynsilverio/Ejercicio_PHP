
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Insertar Comida</title>
    <link rel="stylesheet" href="insertar.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>Insertar Comida</h1>

    <form id="comida">
        <div class="container">
            <label>ðŸ”º Inserte la comida:</label>
            <input type="text" name="comida" placeholder="Comida" required>

            <label>ðŸ”º Tipo de comida:</label>
            <input type="text" name="tipo" placeholder="Tipo" required>

            <label>ðŸ”º DescripciÃ³n de la comida:</label>
            <input type="text" name="descripcion" placeholder="DescripciÃ³n" required>
            <br>

            <input type="button" value="Enviar" onclick="enviar()">
        </div>
    </form>

    <p id="mensaje"></p>
<script>
function enviar() {
    const formulario = document.getElementById("comida");
    const mensaje = document.getElementById("mensaje");

        const datos = new FormData(formulario);//para agrrar los datos que se van a poner en el formulario
        const xhr = new XMLHttpRequest();//para crear el objeto

        xhr.open("POST", "insertar.php", true);//se utiliza para abrir la conexion con php

        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4) {
                if (xhr.status === 200) {
                    const data = JSON.parse(xhr.responseText);
                    if (data.status === "ok") {
                        mensaje.innerHTML = data.answer;
                        formulario.reset();
                    } else {
                        mensaje.innerHTML = data.answer;
                    }
                }
            }
        };
        xhr.send(datos);
    }
</script>
